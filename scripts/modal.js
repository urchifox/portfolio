var c="https://esm.run/dialog-polyfill",a=window.HTMLDialogElement===void 0,n=document.querySelectorAll(".modal"),s=document.querySelectorAll("[data-modal-id]"),d=document.querySelectorAll(".modal__button"),e=new Map,r=o=>{let t=o.target.closest("[data-modal-id]"),l=e.get(t);o.preventDefault(),l.showModal()},i=o=>{o.stopPropagation(),o.target.closest(".modal").close()},m=o=>{let t=o.currentTarget;o.target===t&&t.close()},u=()=>{a&&document.querySelectorAll("dialog").forEach(async t=>{let{default:l}=await import(c);l.registerDialog(t)}),s.forEach(o=>{let t=document.querySelector(`#${o.dataset.modalId}`);e.set(o,t),o.addEventListener("click",r)}),d.forEach(o=>o.addEventListener("click",i)),n.forEach(o=>o.addEventListener("click",m))};export{u as init};
