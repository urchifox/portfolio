var a={CLOSED:"\u0420\u0430\u0441\u043A\u0440\u044B\u0442\u044C \u0432\u0441\u0435",OPENED:"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0432\u0441\u0435"},s={ANIMATING:"additions-card__content--animating",COLLAPSING:"additions-card__content--collapsing"},c=document.querySelectorAll(".additions-card__button"),i=new Map;for(let t of c){let e=t.parentNode.querySelectorAll(".additions-card__summary");i.set(t,[...e])}var d=[...i.values()].flat(),l=t=>{let n=t.target.textContent===a.CLOSED;t.target.textContent=n?a.OPENED:a.CLOSED,i.get(t.target).forEach(o=>{o.parentElement.open!==n&&o.click()})},m=t=>{let e=t.target.parentElement,n=t.target.nextElementSibling;if(n.classList.contains(s.ANIMATING)){n.classList.remove(s.ANIMATING,s.COLLAPSING),t.target.offsetWidth;return}let o=r=>n.addEventListener("animationend",r,{once:!0});requestAnimationFrame(()=>n.classList.add(s.ANIMATING)),o(()=>n.classList.remove(s.ANIMATING)),e.open&&(t.preventDefault(),n.classList.add("additions-card__content--collapsing"),o(()=>{e.removeAttribute("open"),n.classList.remove("additions-card__content--collapsing")}))},E=()=>{c.forEach(t=>t.addEventListener("click",l)),d.forEach(t=>t.addEventListener("click",m))};export{E as init};
