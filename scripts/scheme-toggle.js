var a=document.querySelectorAll("link[rel=stylesheet][media*=prefers-color-scheme][media*=light]"),r=document.querySelectorAll("link[rel=stylesheet][media*=prefers-color-scheme][media*=dark]"),m=matchMedia("(prefers-color-scheme: dark)"),l=document.querySelector(".scheme-toggle__control"),h=()=>m.matches?"dark":"light",n=()=>localStorage.getItem("color-scheme-local"),d=()=>localStorage.getItem("color-scheme-system"),S=e=>{localStorage.setItem("color-scheme-local",e)},i=e=>{localStorage.setItem("color-scheme-system",e)},g=()=>{localStorage.removeItem("color-scheme-local")},s=e=>{let c=e==="light"?"all":"not all",t=e==="dark"?"all":"not all";[...a].forEach(o=>{o.media=c}),[...r].forEach(o=>{o.media=t})},k=e=>{let c=e.target.checked?"dark":"light";S(c),s(c)},y=()=>{let e=n(),c=d(),t=h();c!==t&&(i(t),g()),s(e??t),l.checked=(e??t)==="dark",l.addEventListener("click",k)};export{y as init};
